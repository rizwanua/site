<p>Dear {{ user.username }},</p>
<p>
    To reset your password
    <a href="{{ url_for('auth.reset_password', token=token, _external=True) }}">
        click here
    </a>.
</p>
<p>Alternatively, you can paste the following link in your browser's address bar:</p>
<p>{{ url_for('auth.reset_password', token=token, _external=True) }}</p>

<p>If you have not requested a password reset simply ignore this message.</p>
<p>Sincerely,</p>
<p>Stock Price Alert</p>

<!-- 

_external=True argument that I included in the url_for() calls in both templates is also new. 

The URLs that are generated by url_for() by default are relative URLs that only include the path portion of the URL. 
This is normally sufficient for links that are generated in web pages, because the web browser completes the URL by taking the missing parts from the URL in the address bar. 
When sending a URL by email however, that context does not exist, so fully qualified URLs need to be used. 

When _external=True is passed as an argument, complete URLs are generated, so the previous example would return http://localhost:5000/user/susan, or the appropriate URL when the application is deployed on a domain name. 

-->